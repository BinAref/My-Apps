<!DOCTYPE html>

<html dir="rtl" lang="ar">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https:/t; style-src 'self' 'unsafe-inline'; connect-src 'self' https://ugmallekycxnzejydafw.supabase.co https://*.supabase.co; img-src 'self' data: https:;">

    <title>BinAref - Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</title>

    

    <style>

        /* ==========================================

           Ø§Ù„Ø¬Ø²Ø¡ 1: Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª

        ========================================== */

        

        * {

            margin: 0;

            padding: 0;

            box-sizing: border-box;

        }

        :root {

            --bg-gradient-start: #000000;

            --bg-gradient-mid: #0a0a0a;

            --bg-gradient-end: #1a1a1a;

            --card-bg: rgba(255, 255, 255, 0.03);

            --card-hover-bg: rgba(255, 255, 255, 0.08);

            --text-primary: #ffffff;

            --text-secondary: #a0a0a0;

            --border-color: rgba(255, 255, 255, 0.08);

            --shadow-color: rgba(0, 0, 0, 0.8);

            --btn-bg: rgba(59, 130, 246, 0.15);

            --btn-hover-bg: rgba(59, 130, 246, 0.25);

            --accent-color: #3b82f6;

            --glass-border: rgba(255, 255, 255, 0.1);

            --glass-shadow: rgba(255, 255, 255, 0.05);

            --dialog-overlay-bg: rgba(0, 0, 0, 0.85);

        }

[data-theme="light"] {
    /* Ø§Ù„Ø®Ù„ÙÙŠØ§Øª */
    --bg-gradient-start: #ffffff;  /* Ø£Ø¨ÙŠØ¶ Ù†Ø¸ÙŠÙ */
    --bg-gradient-mid: #f7f9fc;
    --bg-gradient-end: #edf2f7;

    /* Ù†ØµÙˆØµ */
    --text-primary: #0a1f44;        /* Ø£Ø²Ø±Ù‚ Ø¯Ø§ÙƒÙ† ØªÙ‚Ù†ÙŠ */
    --text-secondary: #475569;      /* Ø±Ù…Ø§Ø¯ÙŠ Ù…Ø±ÙŠØ­ Ù„Ù„Ø¹ÙŠÙ† */

    /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„ØªÙ…ÙŠÙŠØ² */
    --accent-color: #1652f0;        /* Ø£Ø²Ø±Ù‚ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± */

    /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    --btn-bg: rgba(22, 82, 240, 0.12);
    --btn-hover-bg: rgba(22, 82, 240, 0.24);

    /* Ø§Ù„Ø­Ø¯ÙˆØ¯ ÙˆØ§Ù„Ø¸Ù„Ø§Ù„ */
    --border-color: rgba(10, 31, 68, 0.12);
    --shadow-color: rgba(10, 31, 68, 0.15);

    /* Ø²Ø¬Ø§Ø¬ÙŠ */
    --card-bg: rgba(255, 255, 255, 0.85);
    --card-hover-bg: rgba(255, 255, 255, 0.95);
    --glass-border: rgba(10, 31, 68, 0.1);
    --glass-shadow: rgba(10, 31, 68, 0.08);

    /* Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¯ÙŠØ§Ù„ÙˆØ¬ */
    --dialog-overlay-bg: rgba(237, 242, 247, 0.8);
}



        html, body {

            height: 100%;

            overflow: auto;

            position: relative;

            width: 100%;

        }

        body {

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-mid) 50%, var(--bg-gradient-end) 100%);

            position: relative;

            transition: background 0.3s ease;

            display: flex;

            flex-direction: column;

        }

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    z-index: 0;
}
body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 65, 0.02) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(0, 255, 65, 0.02) 0%, transparent 50%);
    z-index: 0;
    pointer-events: none;
}

        .matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        /* ==========================================

           Ø§Ù„Ø¬Ø²Ø¡ 2: Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ù‡ÙŠØ¯Ø±

        ========================================== */

        .controls-container {

            position: fixed;

            top: 20px;

            left: 0;

            right: 0;

            z-index: 1000;

            pointer-events: none;

        }

        .theme-toggle-container {

            position: fixed;

            top: 20px;

            right: 20px;

            z-index: 1001;

            pointer-events: auto;

        }

        .view-toggle-container {

            position: fixed;

            top: 20px;

            left: 20px;

            z-index: 1001;

            pointer-events: auto;

        }

        .theme-toggle, .view-toggle {

            background: transparent;

            backdrop-filter: blur(30px);

            -webkit-backdrop-filter: blur(30px);

            border-radius: 50px;

            padding: 2px;

            cursor: pointer;

            transition: all 0.3s ease;

            box-shadow: 

                0 8px 32px var(--glass-shadow), 

                0 0 20px rgba(220, 38, 38, 0.2),

                0 0 20px rgba(59, 130, 246, 0.2),

                inset 0 1px 0 rgba(255, 255, 255, 0.1);

            display: flex;

            flex-direction: column;

            align-items: center;

            width: 24px;

            height: 48px;

            position: relative;

        }

        .theme-toggle::before, .view-toggle::before {

            content: '';

            position: absolute;

            inset: -2px;

            border-radius: 50px;

            padding: 2px;

            background: linear-gradient(180deg, rgba(220, 38, 38, 0.8), rgba(59, 130, 246, 0.8));

            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);

            -webkit-mask-composite: xor;

            mask-composite: exclude;

            pointer-events: none;

        }

        .theme-toggle:hover, .view-toggle:hover {

            box-shadow: 

                0 12px 40px var(--glass-shadow), 

                0 0 30px rgba(220, 38, 38, 0.4),

                0 0 30px rgba(59, 130, 246, 0.4),

                inset 0 1px 0 rgba(255, 255, 255, 0.2);

            background: rgba(255, 255, 255, 0.05);

            transform: translateY(-2px);

        }

        .theme-slider, .view-slider {

            position: absolute;

            width: 20px;

            height: 20px;

            background: linear-gradient(135deg, var(--accent-color), #8b5cf6);

            border-radius: 50%;

            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

            display: flex;

            align-items: center;

            justify-content: center;

            font-size: 10px;

            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.5);

        }

        [data-theme="dark"] .theme-slider {

            top: 2px;

        }

        [data-theme="light"] .theme-slider {

            top: calc(100% - 22px);

        }

        .view-slider {

            top: 2px;

        }

        .view-slider.list-active {

            top: calc(100% - 22px);

        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0;
            position: relative;
            z-index: 1;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
    text-align: center;
    flex-shrink: 0;
    padding: 30px 20px 20px;
    position: relative;
    z-index: 10;
}

        .brand-name {

            color: var(--text-primary);

            font-size: clamp(28px, 5vw, 48px);

            font-weight: 800;

            margin-bottom: 15px;

            letter-spacing: 3px;

            animation: fadeInDown 0.8s ease;

            display: flex;

            align-items: center;

            justify-content: center;

            gap: 15px;

            position: relative;

            text-transform: uppercase;

        }

        .brand-name::before {

            content: '';

            position: absolute;

            bottom: -8px;

            left: 50%;

            transform: translateX(-50%);

            width: 60%;

            height: 3px;

            background: linear-gradient(90deg, transparent, var(--accent-color), transparent);

            border-radius: 10px;

            animation: glow 2s ease-in-out infinite;

        }

        @keyframes glow {

            0%, 100% { 

                opacity: 0.5;

                box-shadow: 0 0 10px var(--accent-color);

            }

            50% { 

                opacity: 1;

                box-shadow: 0 0 20px var(--accent-color);

            }

        }

        .brand-name span:last-child {

            background: linear-gradient(135deg, var(--accent-color), #8b5cf6, var(--accent-color));

            background-size: 200% 200%;

            -webkit-background-clip: text;

            -webkit-text-fill-color: transparent;

            background-clip: text;

            animation: gradientText 3s ease infinite;

            font-weight: 900;

        }

        @keyframes gradientText {

            0%, 100% { background-position: 0% 50%; }

            50% { background-position: 100% 50%; }

        }

        .brand-icon {

            font-size: clamp(32px, 5.5vw, 52px);

            filter: drop-shadow(0 4px 20px var(--accent-color));

            animation: float 3s ease-in-out infinite;

        }

        @keyframes float {

            0%, 100% { transform: translateY(0px); }

            50% { transform: translateY(-10px); }

        }

        @keyframes fadeInDown {

            from {

                opacity: 0;

                transform: translateY(-30px);

            }

            to {

                opacity: 1;

                transform: translateY(0);

            }

        }

        .brand-subtitle {

            color: var(--text-secondary);

            font-size: clamp(12px, 1.5vw, 16px);

            font-weight: 400;

            letter-spacing: 2px;

            animation: fadeInUp 0.8s ease 0.2s both;

            text-transform: uppercase;

            position: relative;

            display: inline-block;

            padding: 0 20px;

        }

        .brand-subtitle::before,

        .brand-subtitle::after {

            content: '';

            position: absolute;

            top: 50%;

            width: 40px;

            height: 1px;

            background: linear-gradient(90deg, transparent, var(--accent-color));

        }

        .brand-subtitle::before {

            right: 100%;

            margin-right: 10px;

        }

        .brand-subtitle::after {

            left: 100%;

            margin-left: 10px;

            background: linear-gradient(90deg, var(--accent-color), transparent);

        }

        @keyframes fadeInUp {

            from {

                opacity: 0;

                transform: translateY(30px);

            }

            to {

                opacity: 1;

                transform: translateY(0);

            }

        }
/* ==========================================

           Ø§Ù„Ø¬Ø²Ø¡ 3: Ø´Ø¨ÙƒØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„ÙƒØ±ÙˆØª

        ========================================== */

        .apps-container {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .apps-container::-webkit-scrollbar {
            width: 8px;
        }

        .apps-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .apps-container::-webkit-scrollbar-thumb {
            background: var(--glass-border);
            border-radius: 10px;
        }

        .apps-container::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }

        .apps-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: clamp(15px, 2vw, 40px);
            max-width: clamp(500px, 50vw, 900px);
            margin: 0 auto;
            transition: all 0.4s ease;
            width: 100%;
        }

        .apps-grid.list-view {

            grid-template-columns: 1fr;

            max-width: clamp(400px, 45vw, 700px);

            align-content: start;

        }

        .app-card {

            background: rgba(0, 0, 0, 0.02);

            backdrop-filter: blur(5px) saturate(100%);

            -webkit-backdrop-filter: blur(5px) saturate(100%);

            border-radius: clamp(16px, 2vw, 24px);

            padding: clamp(16px, 2.5vw, 35px) clamp(14px, 2vw, 30px);

            border: 2px solid rgba(220, 38, 38, 0.6);

            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

             box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        0 0 10px rgba(220, 38, 38, 0.3),
        0 0 20px rgba(220, 38, 38, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);

            animation: fadeIn 0.8s ease;

            position: relative;

            overflow: visible;

            cursor: pointer;

            display: flex;

            flex-direction: column;

            align-items: center;

            text-align: center;

        }

        [data-theme="light"] .app-card {

            background: rgba(255, 255, 255, 0.1);

            backdrop-filter: blur(5px) saturate(100%);

            -webkit-backdrop-filter: blur(5px) saturate(100%);

            border: 2px solid rgba(220, 38, 38, 0.6);

            box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.2),
        0 0 10px rgba(220, 38, 38, 0.25),
        0 0 20px rgba(220, 38, 38, 0.12),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);

        }

        .apps-grid.list-view .app-card {

            flex-direction: row;

            text-align: right;

            padding: 18px;

        }

        .apps-grid.list-view .app-icon {

            margin-bottom: 0;

            margin-left: 18px;

            flex-shrink: 0;

        }

        .apps-grid.list-view .app-content {

            flex: 1;

            display: flex;

            flex-direction: column;

            align-items: flex-start;

        }

        .apps-grid.list-view .app-description {

            text-align: right;

        }

        .apps-grid.list-view .view-details-btn {

            align-self: flex-start;

        }

        @keyframes fadeIn {

            from {

                opacity: 0;

                transform: scale(0.95);

            }

            to {

                opacity: 1;

                transform: scale(1);

            }

        }

        .app-card:hover {

            transform: translateY(-8px);

            border-color: rgba(220, 38, 38, 0.9);

            background: rgba(0, 0, 0, 0.05);

            box-shadow: 
        0 25px 70px rgba(0, 0, 0, 0.6),
        0 0 15px rgba(220, 38, 38, 0.4),
        0 0 25px rgba(220, 38, 38, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);

        }

        [data-theme="light"] .app-card:hover {

            background: rgba(255, 255, 255, 0.2);

        }

        .apps-grid.list-view .app-card:hover {

            transform: translateX(-8px);

        }
.app-icon {

            width: clamp(45px, 5.5vw, 70px);

            height: clamp(45px, 5.5vw, 70px);

            margin-bottom: clamp(10px, 1.5vw, 20px);

            background: linear-gradient(135deg, var(--accent-color), #8b5cf6);

            border-radius: clamp(12px, 1.8vw, 16px);

            display: flex;

            align-items: center;

            justify-content: center;

            font-size: clamp(24px, 2.8vw, 38px);

            box-shadow: 

                0 8px 25px rgba(59, 130, 246, 0.4),

                inset 0 1px 0 rgba(255, 255, 255, 0.2);

            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

        }

        .app-card:hover .app-icon {

            transform: scale(1.15) rotate(5deg);

            box-shadow: 

                0 12px 40px rgba(59, 130, 246, 0.6),

                inset 0 1px 0 rgba(255, 255, 255, 0.3);

        }

        .app-content {

            display: flex;

            flex-direction: column;

            align-items: center;

            width: 100%;

        }

        .app-name {

            color: var(--text-primary);

            font-size: clamp(14px, 1.8vw, 24px);

            font-weight: 800;

            margin-bottom: clamp(6px, 1vw, 12px);

            letter-spacing: 0.3px;

        }

        .app-description {

            color: var(--text-secondary);

            font-size: clamp(11px, 1.3vw, 16px);

            line-height: 1.4;

            text-align: center;

            margin-bottom: clamp(10px, 1.5vw, 18px);

        }

        .view-details-btn {

            background: var(--btn-bg);

            backdrop-filter: blur(20px);

            -webkit-backdrop-filter: blur(20px);

            color: var(--text-primary);

            border: 1px solid var(--glass-border);

            padding: 3px 8px;

            font-size: 8px;

            border-radius: 50px;

            cursor: pointer;

            transition: all 0.3s ease;

            font-weight: 700;

            letter-spacing: 0.2px;

            box-shadow: 0 3px 12px var(--glass-shadow), inset 0 1px 0 rgba(255, 255, 255, 0.1);

            display: inline-flex;

            align-items: center;

            justify-content: center;

            gap: 2px;

            white-space: nowrap;

        }

        .view-details-btn:hover {

            background: var(--btn-hover-bg);

            transform: translateY(-2px);

            box-shadow: 0 6px 20px var(--glass-shadow), inset 0 1px 0 rgba(255, 255, 255, 0.2);

        }

        .loading-spinner {

            display: inline-block;

            width: 14px;

            height: 14px;

            border: 2px solid rgba(255,255,255,0.3);

            border-radius: 50%;

            border-top-color: #fff;

            animation: spin 0.6s linear infinite;

        }

        @keyframes spin {

            to { transform: rotate(360deg); }

        }
/* ==========================================

           Ø§Ù„Ø¬Ø²Ø¡ 4: Ø§Ù„Ø¯ÙŠØ§Ù„ÙˆØ¬Ø² ÙˆØ§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©

        ========================================== */

        .dialog-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    padding: 20px;
    animation: fadeInOverlay 0.3s ease;
}

[data-theme="light"] .dialog-overlay {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

        .dialog-overlay.active {

            display: flex;

        }

        @keyframes fadeInOverlay {

            from { opacity: 0; }

            to { opacity: 1; }

        }

        .dialog-content {
    background: rgba(10, 10, 10, 0.85);
    backdrop-filter: blur(40px) saturate(180%);
    -webkit-backdrop-filter: blur(40px) saturate(180%);
    border-radius: 28px;
    padding: 35px 30px;
    border: 2px solid rgba(0, 255, 65, 0.5);
    box-shadow: 
        0 25px 80px rgba(0, 0, 0, 0.6),
        0 0 30px rgba(0, 255, 65, 0.4),
        0 0 50px rgba(0, 255, 65, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    max-width: 550px;
    width: 100%;
    max-height: 85vh;
    overflow-y: auto;
    position: relative;
    animation: slideUpDialog 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme="light"] .dialog-content {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(40px) saturate(180%);
    -webkit-backdrop-filter: blur(40px) saturate(180%);
    border: 2px solid rgba(0, 204, 51, 0.5);
    box-shadow: 
        0 25px 80px rgba(0, 0, 0, 0.15),
        0 0 30px rgba(0, 204, 51, 0.3),
        0 0 50px rgba(0, 204, 51, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

        @keyframes slideUpDialog {

            from {

                opacity: 0;

                transform: translateY(60px) scale(0.9);

            }

            to {

                opacity: 1;

                transform: translateY(0) scale(1);

            }

        }

        .dialog-close {

            position: absolute;

            top: 20px;

            left: 20px;

            background: var(--card-bg);

            backdrop-filter: blur(20px);

            -webkit-backdrop-filter: blur(20px);

            border: 1px solid var(--glass-border);

            border-radius: 50%;

            width: 38px;

            height: 38px;

            display: flex;

            align-items: center;

            justify-content: center;

            cursor: pointer;

            transition: all 0.3s ease;

            font-size: 22px;

            color: var(--text-secondary);

            box-shadow: 0 4px 15px var(--glass-shadow), inset 0 1px 0 rgba(255, 255, 255, 0.1);

            z-index: 10;

        }

        .dialog-close:hover {

            background: linear-gradient(135deg, var(--accent-color), #8b5cf6);

            transform: rotate(90deg) scale(1.1);

            color: #ffffff;

            box-shadow: 0 6px 25px rgba(59, 130, 246, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.2);

            border-color: transparent;

        }

        .dialog-header {

            text-align: center;

            margin-bottom: 20px;

            position: relative;

            z-index: 1;

        }

        .dialog-icon {

            width: 70px;

            height: 70px;

            margin: 0 auto 15px;

            background: linear-gradient(135deg, var(--accent-color), #8b5cf6);

            border-radius: 18px;

            display: flex;

            align-items: center;

            justify-content: center;

            font-size: 36px;

            box-shadow: 

                0 10px 30px rgba(59, 130, 246, 0.4),

                inset 0 1px 0 rgba(255, 255, 255, 0.2);

        }

        .dialog-name {

            color: var(--text-primary);

            font-size: 22px;

            font-weight: 800;

            margin-bottom: 8px;

            letter-spacing: 0.5px;

        }

        .dialog-description {

            color: var(--text-secondary);

            font-size: 13px;

            line-height: 1.6;

            margin-bottom: 20px;

        }

        .features-title {

            color: var(--text-primary);

            font-size: 13px;

            font-weight: 800;

            text-transform: uppercase;

            letter-spacing: 0.8px;

            margin-bottom: 12px;

            text-align: center;

        }

        .features-grid {

            display: grid;

            grid-template-columns: repeat(3, 1fr);

            gap: 10px;

            margin-bottom: 20px;

        }

        .feature-item {

            background: var(--card-bg);

            backdrop-filter: blur(30px);

            -webkit-backdrop-filter: blur(30px);

            padding: 12px 6px;

            border-radius: 12px;

            border: 1px solid var(--glass-border);

            transition: all 0.3s ease;

            text-align: center;

            display: flex;

            flex-direction: column;

            align-items: center;

            gap: 5px;

            box-shadow: 0 4px 15px var(--glass-shadow), inset 0 1px 0 rgba(255, 255, 255, 0.05);

        }

        .feature-item:hover {

            background: var(--card-hover-bg);

            transform: translateY(-3px);

            border-color: var(--accent-color);

            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);

        }

        .feature-icon {

            color: var(--accent-color);

            font-size: 20px;

        }

        .feature-text {

            color: var(--text-primary);

            font-size: 10px;

            font-weight: 700;

            line-height: 1.2;

        }

        .download-btn {

            background: linear-gradient(135deg, var(--accent-color), #8b5cf6);

            color: #ffffff;

            border: none;

            padding: 12px 30px;

            font-size: 14px;

            border-radius: 50px;

            cursor: pointer;

            transition: all 0.3s ease;

            font-weight: 800;

            letter-spacing: 0.5px;

            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);

            width: 100%;

            display: flex;

            align-items: center;

            justify-content: center;

            gap: 8px;

        }

        .download-btn:hover {

            transform: translateY(-2px);

            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.6);

        }

        .download-btn:disabled {

            opacity: 0.5;

            cursor: not-allowed;

        }

        .footer {
            text-align: center;
            padding: 15px 20px;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 11px;
            font-weight: 500;
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
            flex-shrink: 0;
            position: relative;
            z-index: 10;
        }
/* ==========================================

           Ø§Ù„Ø¬Ø²Ø¡ 5: Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨

        ========================================== */



        @media (min-width: 481px) and (max-width: 768px) {

            .apps-grid {

                grid-template-columns: 1fr !important;

                max-width: clamp(350px, 60vw, 500px) !important;

            }

            

            .apps-grid .app-card { 

                flex-direction: row !important;

                text-align: right !important;

                padding: 18px !important;

            }

            

            .apps-grid .app-icon { 

                margin-bottom: 0 !important;

                margin-left: 18px !important;

                flex-shrink: 0 !important;

            }

            

            .apps-grid .app-content { 

                flex: 1 !important;

                display: flex !important;

                flex-direction: column !important;

                align-items: flex-start !important;

            }

            

            .apps-grid .app-description { 

                text-align: right !important;

            }

            

            .apps-grid .view-details-btn { 

                align-self: flex-start !important;

            }

            

            .apps-grid .app-card:hover {

                transform: translateX(-8px) scale(1.01) !important;

            }

        }

        @media (max-width: 480px) {

            .apps-grid:not(.list-view) { 

                grid-template-columns: repeat(2, 1fr) !important; 

                max-width: 95% !important;

                gap: clamp(8px, 2vw, 15px);

            }

            

            .apps-grid.list-view { 

                grid-template-columns: 1fr !important; 

                max-width: clamp(280px, 85vw, 350px) !important; 

            }

            

            .apps-grid.list-view .app-card { 

                flex-direction: column !important; 

                text-align: center !important; 

            }

            

            .apps-grid.list-view .app-icon { 

                margin-left: 0 !important; 

                margin-bottom: 12px !important; 

            }

            

            .apps-grid.list-view .app-content { 

                align-items: center !important; 

            }

            

            .apps-grid.list-view .app-description { 

                text-align: center !important; 

            }

            

            .apps-grid.list-view .view-details-btn { 

                align-self: center !important; 

            }

            

            .features-grid {

                grid-template-columns: repeat(2, 1fr);

            }

        }

        @media (max-width: 360px) {

            .brand-name {

                font-size: 24px !important;

                gap: 10px;

            }

            

            .brand-icon {

                font-size: 28px !important;

            }

            

            .brand-subtitle {

                font-size: 10px !important;

            }

            

            .theme-toggle-container,

            .view-toggle-container {

                top: 15px;

            }

            

            .dialog-content {

                padding: 25px 20px;

            }

        }

        @media (min-width: 1600px) {

            .container {

                max-width: 1400px;

            }

            

            .apps-grid {

                max-width: 1000px;

            }

        }

        @media (hover: none) and (pointer: coarse) {

            .app-card:hover {

                transform: none;

            }

            

            .app-card:active {

                transform: scale(0.98);

            }

            

            .view-details-btn:hover {

                transform: none;

            }

            

            .view-details-btn:active {

                transform: scale(0.95);

            }

        }

        @media (prefers-reduced-motion: reduce) {

            *,

            *::before,

            *::after {

                animation-duration: 0.01ms !important;

                animation-iteration-count: 1 !important;

                transition-duration: 0.01ms !important;

            }

        }

        @media print {

            .theme-toggle-container,

            .view-toggle-container,

            .matrix-canvas,

            body::before,

            body::after {

                display: none !important;

            }

            

            .app-card {

                break-inside: avoid;

            }

        }

    </style>

</head>

<body>

    <canvas class="matrix-canvas" id="matrixCanvas"></canvas>

    <div class="controls-container">

        <div class="theme-toggle-container">

            <div class="theme-toggle" onclick="toggleTheme()">

                <div class="theme-slider" id="theme-slider">

                    <span id="theme-icon">â˜€ï¸</span>

                </div>

            </div>

        </div>

        

        <div class="view-toggle-container">

            <div class="view-toggle" onclick="toggleView()">

                <div class="view-slider" id="view-slider">

                    <span id="view-icon">âŠ</span>

                </div>

            </div>

        </div>

    </div>

    <div class="container">
        <div class="header">
            <div class="brand-name">
                <span class="brand-icon">ğŸ’»</span>
                <span>BinAref</span>
            </div>
            <div class="brand-subtitle">ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„ØªØ¬Ø±Ø¨Ø© Ù…Ù…ÙŠØ²Ø©</div>
        </div>
        <div class="apps-container">
            <div class="apps-grid" id="apps-grid"></div>
        </div>
    </div>

    <div class="footer">

        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2025 BinAref</p>

    </div>

    <div id="dialogs-container"></div>

<script>

        // ==========================================

        //  Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Supabase

        // ==========================================

        const SUPABASE_URL = 'https://ugmallekycxnzejydafw.supabase.co';

        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVnbWFsbGVreWN4bnplanlkYWZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NTI1MjEsImV4cCI6MjA4MTIyODUyMX0.ITtbUhlsFM9y_v8e6ymSluGcqExzZq13Npz97z2KzLw';

        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Supabase

async function supabaseQuery(table, options = {}) {

    const url = `${SUPABASE_URL}/rest/v1/${table}${options.query || ''}`;

    const response = await fetch(url, {

        method: options.method || 'GET',

        headers: {

            'apikey': SUPABASE_KEY,

            'Authorization': `Bearer ${SUPABASE_KEY}`,

            'Content-Type': 'application/json',

            'Prefer': 'return=representation'

        },

        body: options.body ? JSON.stringify(options.body) : undefined

    });

    

    if (!response.ok) {

        throw new Error(`HTTP error! status: ${response.status}`);

    }

    

    return await response.json();

}

        let appsData = [];

        const featuresMap = {

            'azkari': [

                { feature_icon: 'ğŸ“š', feature_text: 'Ù…ÙƒØªØ¨Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø£Ø°ÙƒØ§Ø±' },

                { feature_icon: 'ğŸ¨', feature_text: 'ØªØ®ØµÙŠØµ ÙƒØ§Ù…Ù„ Ù„Ù„Ø«ÙŠÙ…Ø§Øª' },

                { feature_icon: 'ğŸ”¢', feature_text: 'Ø¹Ø¯Ø§Ø¯ Ø°ÙƒÙŠ ÙˆÙ…Ø±Ù†' },

                { feature_icon: 'âœï¸', feature_text: 'Ø£Ø°ÙƒØ§Ø± ÙˆÙ…Ø°ÙƒØ±Ø§Øª Ù…Ø®ØµØµØ©' },

                { feature_icon: 'ğŸ“±', feature_text: 'ØªØ¬Ø±Ø¨Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³Ù„Ø³Ø©' },

                { feature_icon: 'â­', feature_text: 'Ø£Ø°ÙƒØ§Ø±Ùƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©' }

            ],

            'ministry': [

                { feature_icon: 'ğŸ“', feature_text: 'Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©' },

                { feature_icon: 'ğŸ“–', feature_text: 'Ù…ÙƒØªØ¨Ø© Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©' },

                { feature_icon: 'ğŸ¬', feature_text: 'Ù…Ø´ØºÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù…ØªØ·ÙˆØ±' },

                { feature_icon: 'ğŸµ', feature_text: 'Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØªÙŠØ§Øª Ø§Ù„Ø°ÙƒÙŠ' },

                { feature_icon: 'ğŸ‘¨â€ğŸ’¼', feature_text: 'Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±' },

                { feature_icon: 'ğŸ“Š', feature_text: 'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©' }

            ],

            'voicelink': [

                { feature_icon: 'ğŸ™ï¸', feature_text: 'Ø¨Ø« ØµÙˆØªÙŠ Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©' },

                { feature_icon: 'ğŸ“¡', feature_text: 'Ø§ÙƒØªØ´Ø§Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø£Ø¬Ù‡Ø²Ø©' },

                { feature_icon: 'ğŸ‘¥', feature_text: 'Ø¯Ø¹Ù… Ø¹Ø¯Ø© Ù…Ø³ØªÙ…Ø¹ÙŠÙ†' },

                { feature_icon: 'âš¡', feature_text: 'Ø£Ø¯Ø§Ø¡ ÙØ§Ø¦Ù‚ Ø§Ù„Ø³Ø±Ø¹Ø©' },

                { feature_icon: 'ğŸ”', feature_text: 'Ù…ØµØ§Ø¯Ù‚Ø© Ø¢Ù…Ù†Ø©' },

                { feature_icon: 'ğŸŒ', feature_text: 'Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø± P2P' }

            ]

        };

        // ==========================================

        //  ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ù† Supabase

        // ==========================================

        async function loadApps() {

    try {

        console.log('ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª...');

        

        const data = await supabaseQuery('apps', {

            query: '?select=*,features(*)'

        });

        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„', data.length, 'ØªØ·Ø¨ÙŠÙ‚Ø§Øª:', data);

        if (!data || data.length === 0) {

            console.warn('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª');

            alert('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!\n\nÙŠØ±Ø¬Ù‰:\n1. ØªÙ†ÙÙŠØ° SQL Scripts ÙÙŠ Supabase\n2. Ø¥ÙŠÙ‚Ø§Ù Row Level Security');

            return;

        }

        appsData = data;

        renderApps();

        renderDialogs();

    } catch (error) {

        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª:', error);

        alert('âš ï¸ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:\n' + error.message + '\n\nØªØ£ÙƒØ¯ Ù…Ù†:\n1. Row Level Security Ù…Ø¹Ø·Ù„\n2. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø¬Ø¯ÙˆÙ„ apps');

    }

}

        // ==========================================

        //  Ø¹Ø±Ø¶ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª

        // ==========================================

        function renderApps() {

            const grid = document.getElementById('apps-grid');

            grid.innerHTML = appsData.map(app => `

                <div class="app-card" onclick="openDialog('${app.app_id}')">

                    <div class="app-icon">${app.app_icon}</div>

                    <div class="app-content">

                        <div class="app-name">${app.app_name}</div>

                        <div class="app-description">${app.description}</div>

                        <button class="view-details-btn" onclick="event.stopPropagation(); openDialog('${app.app_id}')">

                            <span>ğŸ“‹</span>

                            <span>Ø§Ù„ØªÙØ§ØµÙŠÙ„</span>

                        </button>

                    </div>

                </div>

            `).join('');

        }

        // ==========================================

        //  Ø¹Ø±Ø¶ Ù†ÙˆØ§ÙØ° Ø§Ù„ØªÙØ§ØµÙŠÙ„

        // ==========================================

        function renderDialogs() {

            const container = document.getElementById('dialogs-container');

            container.innerHTML = appsData.map(app => {

                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙŠØ²Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ø§Ù„Ù…ØµÙÙˆÙØ© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©

                const features = (app.features && app.features.length > 0) 

                    ? app.features.sort((a, b) => (a.display_order || 0) - (b.display_order || 0))

                    : featuresMap[app.app_id] || [];

                

                return `

                    <div class="dialog-overlay" id="dialog-${app.app_id}" onclick="closeDialogOnOverlay(event, '${app.app_id}')">

                        <div class="dialog-content" onclick="event.stopPropagation()">

                            <div class="dialog-close" onclick="closeDialog('${app.app_id}')">Ã—</div>

                            <div class="dialog-header">

                                <div class="dialog-icon">${app.app_icon}</div>

                                <div class="dialog-name">${app.app_name}</div>

                                <div class="dialog-description">${app.description}</div>

                            </div>

                            <div class="features-title">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>

                            <div class="features-grid">

                                ${features.map(f => `

                                    <div class="feature-item">

                                        <span class="feature-icon">${f.feature_icon}</span>

                                        <div class="feature-text">${f.feature_text}</div>

                                    </div>

                                `).join('')}

                            </div>

                            <button class="download-btn" onclick="downloadApp('${app.app_id}')">

                                <span>â¬‡</span>

                                <span>ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>

                            </button>

                        </div>

                    </div>

                `;

            }).join('');

        }
// ==========================================

        //  Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ÙˆØ¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„

        // ==========================================

        async function downloadApp(appId) {
    // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø§ÙØ°Ø© Ù…Ø®ØµØµØ© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† prompt
    const overlay = document.createElement('div');
    overlay.className = 'dialog-overlay active';
    overlay.style.zIndex = '3000';
    
    overlay.innerHTML = `
        <div class="dialog-content" id="password-dialog" style="max-width: 200px;" onclick="event.stopPropagation()">
            <div class="dialog-close" onclick="this.closest('.dialog-overlay').remove()">Ã—</div>
            <div class="dialog-header">
                <div class="dialog-icon">ğŸ”</div>
                <div class="dialog-name">ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</div>
                <div class="dialog-description">Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</div>
            </div>
            <input type="password" id="password-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" 
                   style="width: 100%; padding: 12px 20px; border-radius: 12px; border: 1px solid var(--glass-border);
                          background: var(--card-bg); backdrop-filter: blur(20px); color: var(--text-primary);
                          font-size: 14px; margin-bottom: 15px; text-align: center; outline: none;
                          transition: all 0.3s ease;">
            <button class="download-btn" id="confirm-password-btn">
                <span>âœ“</span>
                <span>ØªØ£ÙƒÙŠØ¯</span>
            </button>
        </div>
    `;
    
    document.body.appendChild(overlay);
    
    const input = document.getElementById('password-input');
    const confirmBtn = document.getElementById('confirm-password-btn');
    const dialog = document.getElementById('password-dialog');
    
    // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¸Ù‡ÙˆØ± Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
    input.addEventListener('focus', function() {
        this.style.borderColor = 'var(--accent-color)';
        this.style.boxShadow = '0 0 20px rgba(59, 130, 246, 0.3)';
        
        // Ù†Ù‚Ù„ Ø§Ù„Ø¯ÙŠØ§Ù„ÙˆØ¬ Ù„Ø£Ø³ÙÙ„ Ø¹Ù†Ø¯ Ø¸Ù‡ÙˆØ± Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        overlay.style.alignItems = 'flex-start';
        overlay.style.paddingTop = '20px';
    });
    
    input.addEventListener('blur', function() {
        this.style.borderColor = 'var(--glass-border)';
        this.style.boxShadow = 'none';
        
        // Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø¯ÙŠØ§Ù„ÙˆØ¬ Ù„Ù„Ù…Ù†ØªØµÙ Ø¹Ù†Ø¯ Ø¥Ø®ÙØ§Ø¡ Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        setTimeout(() => {
            overlay.style.alignItems = 'center';
            overlay.style.paddingTop = '0';
        }, 300);
    });
    
    input.focus();
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
    input.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            confirmBtn.click();
        }
    });
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯
    confirmBtn.onclick = async function() {
        const password = input.value.trim();
        
        if (!password) {
            input.style.borderColor = '#ef4444';
            input.placeholder = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±';
            return;
        }
        
        confirmBtn.disabled = true;
        confirmBtn.innerHTML = '<span class="loading-spinner"></span> <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...</span>';
        
        try {
            const passwords = await supabaseQuery('passwords', {
                query: `?app_id=eq.${appId}&password_key=eq.${password}&used=eq.false&select=*`
            });
            
            console.log('ğŸ” Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¨Ø­Ø«:', passwords);
            
            if (!passwords || passwords.length === 0) {
                input.value = '';
                input.style.borderColor = '#ef4444';
                input.placeholder = 'âŒ ÙƒÙ„Ù…Ø© Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©';
                confirmBtn.disabled = false;
                confirmBtn.innerHTML = '<span>âœ“</span> <span>ØªØ£ÙƒÙŠØ¯</span>';
                return;
            }
            
            const passwordId = passwords[0].id;
            await supabaseQuery('passwords', {
                method: 'PATCH',
                query: `?id=eq.${passwordId}`,
                body: { 
                    used: true, 
                    used_at: new Date().toISOString() 
                }
            });
            
            const app = appsData.find(a => a.app_id === appId);
            if (app) {
                overlay.remove();
                const successOverlay = document.createElement('div');
                successOverlay.className = 'dialog-overlay active';
                successOverlay.style.zIndex = '3000';
                successOverlay.innerHTML = `
                    <div class="dialog-content" style="max-width: 350px; text-align: center;">
                        <div class="dialog-icon" style="font-size: 60px;">âœ…</div>
                        <div class="dialog-name">ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­!</div>
                        <div class="dialog-description">Ø¬Ø§Ø±ÙŠ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                    </div>
                `;
                document.body.appendChild(successOverlay);
                
                setTimeout(() => {
                    window.location.href = app.download_url;
                    successOverlay.remove();
                }, 1500);
            }
            
        } catch (error) {
            console.error('Ø®Ø·Ø£:', error);
            input.value = '';
            input.style.borderColor = '#ef4444';
            input.placeholder = 'âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';
            confirmBtn.disabled = false;
            confirmBtn.innerHTML = '<span>âœ“</span> <span>ØªØ£ÙƒÙŠØ¯</span>';
        }
    };
    
    // Ø¥ØºÙ„Ø§Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ©
    overlay.addEventListener('click', function(e) {
        if (e.target === overlay) {
            overlay.remove();
        }
    });
}

        // ==========================================

        //  Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„Ø«ÙŠÙ…

        // ==========================================

        let isListView = false;

        let manualOverride = false;

        function getAutoViewMode() {

            const width = window.innerWidth;

            return (width >= 481 && width <= 768) ? 'list' : 'grid';

        }

        function applyViewMode(mode) {

            const grid = document.getElementById('apps-grid');

            const slider = document.getElementById('view-slider');

            const icon = document.getElementById('view-icon');

            

            isListView = (mode === 'list');

            

            if (isListView) {

                grid.classList.add('list-view');

                slider.classList.add('list-active');

                icon.textContent = 'â˜°';

            } else {

                grid.classList.remove('list-view');

                slider.classList.remove('list-active');

                icon.textContent = 'âŠ';

            }

        }

        function toggleTheme() {

            const html = document.documentElement;

            const currentTheme = html.getAttribute('data-theme');

            const newTheme = currentTheme === 'light' ? 'dark' : 'light';

            

            html.setAttribute('data-theme', newTheme);

            localStorage.setItem('theme', newTheme);

            updateThemeButton(newTheme);

        }

        function updateThemeButton(theme) {

            const icon = document.getElementById('theme-icon');

            icon.textContent = theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';

        }

        function toggleView() {

            manualOverride = true;

            isListView = !isListView;

            const mode = isListView ? 'list' : 'grid';

            applyViewMode(mode);

            sessionStorage.setItem('manualViewMode', mode);

        }

        function openDialog(appId) {

            const dialog = document.getElementById('dialog-' + appId);

            if (dialog) dialog.classList.add('active');

        }

        function closeDialog(appId) {

            const dialog = document.getElementById('dialog-' + appId);

            if (dialog) dialog.classList.remove('active');

        }

        function closeDialogOnOverlay(event, appId) {

            if (event.target.classList.contains('dialog-overlay')) {

                closeDialog(appId);

            }

        }

        // ==========================================

        //  Matrix Rain Effect

        // ==========================================

        function initMatrixRain() {
            const canvas = document.getElementById('matrixCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // ØªØ¹ÙŠÙŠÙ† Ø­Ø¬Ù… Ø§Ù„ÙƒØ§Ù†ÙØ³
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø¬Ù… Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø©
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                initColumns();
            });
            
            // Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© (0 Ùˆ 1 ÙÙ‚Ø·)
            const chars = '01';
            const fontSize = 16;
            const columns = Math.floor(canvas.width / fontSize);
            
            // Ù…ØµÙÙˆÙØ© Ù„ØªØªØ¨Ø¹ Ù…ÙˆÙ‚Ø¹ ÙƒÙ„ Ø¹Ù…ÙˆØ¯
            const drops = [];
            
            function initColumns() {
                drops.length = Math.floor(canvas.width / fontSize);
                for (let i = 0; i < drops.length; i++) {
                    drops[i] = Math.floor(Math.random() * -100);
                }
            }
            
            initColumns();
            
            // Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ù…
            function draw() {
                // ØªØ­Ø¯ÙŠØ¯ Ù„ÙˆÙ† Ø§Ù„Ù†Øµ ÙˆØ§Ù„Ø®Ù„ÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø«ÙŠÙ…
                const theme = document.documentElement.getAttribute('data-theme');
                
                // Ø®Ù„ÙÙŠØ© Ø´Ø¨Ù‡ Ø´ÙØ§ÙØ© Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø°ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø«ÙŠÙ…
                if (theme === 'light') {
                    // Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ Ù†Ù‚ÙŠØ© Ù„Ù„Ø«ÙŠÙ… Ø§Ù„ÙØ§ØªØ­
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
                } else {
                    // Ø®Ù„ÙÙŠØ© Ø³ÙˆØ¯Ø§Ø¡ Ù†Ù‚ÙŠØ© Ù„Ù„Ø«ÙŠÙ… Ø§Ù„Ø¯Ø§ÙƒÙ†
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
                }
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // ØªØ­Ø¯ÙŠØ¯ Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø­Ø³Ø¨ Ø§Ù„Ø«ÙŠÙ…
                if (theme === 'light') {
                    // Ø£Ø®Ø¶Ø± Ø¨Ø¯ÙˆÙ† ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„Ø«ÙŠÙ… Ø§Ù„ÙØ§ØªØ­
                    ctx.fillStyle = '#00cc33';
                    ctx.shadowColor = 'transparent';
                    ctx.shadowBlur = 0;
                } else {
                    // Ø£Ø®Ø¶Ø± Ù†Ù‚ÙŠ Ø¨Ø¯ÙˆÙ† Ø¸Ù„ Ø£Ùˆ ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„Ø«ÙŠÙ… Ø§Ù„Ø¯Ø§ÙƒÙ†
                    ctx.fillStyle = '#00ff41';
                    ctx.shadowColor = 'transparent';
                    ctx.shadowBlur = 0;
                }
                
                ctx.font = `${fontSize}px monospace`;
                
                // Ø±Ø³Ù… Ø§Ù„Ø£Ø­Ø±Ù
                for (let i = 0; i < drops.length; i++) {
                    // Ø§Ø®ØªÙŠØ§Ø± Ø­Ø±Ù Ø¹Ø´ÙˆØ§Ø¦ÙŠ (0 Ø£Ùˆ 1)
                    const char = chars[Math.floor(Math.random() * chars.length)];
                    const x = i * fontSize;
                    const y = drops[i] * fontSize;
                    
                    ctx.fillText(char, x, y);
                    
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø¹Ù†Ø¯Ù…Ø§ ÙŠØµÙ„ Ù„Ù„Ø£Ø³ÙÙ„
                    if (y > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    
                    drops[i]++;
                }
            }
            
            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†
            setInterval(draw, 50);
        }

        // ==========================================

        //  ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„

        // ==========================================

        document.addEventListener('DOMContentLoaded', () => {

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ…

            let savedTheme = localStorage.getItem('theme');

            if (!savedTheme) {

                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

                savedTheme = prefersDark ? 'dark' : 'light';

            }

            document.documentElement.setAttribute('data-theme', savedTheme);

            updateThemeButton(savedTheme);

            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {

                if (!localStorage.getItem('theme')) {

                    const newTheme = e.matches ? 'dark' : 'light';

                    document.documentElement.setAttribute('data-theme', newTheme);

                    updateThemeButton(newTheme);

                }

            });

            // ØªØ­Ù…ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ø±Ø¶

            const manualMode = sessionStorage.getItem('manualViewMode');

            if (manualMode) {

                manualOverride = true;

                applyViewMode(manualMode);

            } else {

                applyViewMode(getAutoViewMode());

            }

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ù† Supabase

            loadApps();

            // ØªØ´ØºÙŠÙ„ Matrix Rain
            initMatrixRain();

        });

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø©

        let resizeTimer;

        window.addEventListener('resize', () => {

            clearTimeout(resizeTimer);

            resizeTimer = setTimeout(() => {

                if (!manualOverride) {

                    applyViewMode(getAutoViewMode());

                }

            }, 250);

        });

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø¨Ø²Ø± Escape

        document.addEventListener('keydown', (e) => {

            if (e.key === 'Escape') {

                const activeDialog = document.querySelector('.dialog-overlay.active');

                if (activeDialog) activeDialog.classList.remove('active');

            }

        });

    </script>

</body>

</html>
